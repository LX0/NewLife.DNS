<?xml version="1.0" encoding="utf-8"?>
<Tables Version="9.2.6179.33344">
  <Table Name="Visitor" Description="访问者" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Name" DataType="String" Master="True" Description="名称" />
      <Column Name="Hits" DataType="Int32" Description="次数" />
      <Column Name="LastDomainName" DataType="String" Description="最后域名" />
      <Column Name="LastVisit" DataType="String" Description="最后访问" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="Name" />
    </Indexes>
  </Table>
  <Table Name="Rule" Description="规则" ConnName="User" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Name" DataType="String" Master="True" Description="名称" />
      <Column Name="QueryType" DataType="Int32" Description="记录类型" />
      <Column Name="Address" DataType="String" Length="200" Description="地址" />
      <Column Name="StartDate" DataType="DateTime" Description="开始日期" />
      <Column Name="EndDate" DataType="DateTime" Description="结束日期" />
      <Column Name="StartTime" DataType="Int32" Description="开始时间" />
      <Column Name="EndTime" DataType="Int32" Description="结束时间" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="Hits" DataType="Int32" Description="次数" />
      <Column Name="StatID" DataType="Int32" Description="统计" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="Name" />
    </Indexes>
  </Table>
  <Table Name="Family" Description="家庭" ConnName="User" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="FamilyID" DataType="Int32" Description="家庭" />
      <Column Name="UserID" DataType="Int32" Description="用户" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="FamilyID,UserID" Unique="True" />
      <Index Columns="FamilyID" />
      <Index Columns="UserID" />
    </Indexes>
  </Table>
  <Table Name="Gateway" Description="网关" ConnName="Gateway" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Name" DataType="String" Master="True" Description="名称。登录用户名" />
      <Column Name="HardID" DataType="String" Description="硬件编码" />
      <Column Name="Password" DataType="String" Description="密码" />
      <Column Name="DisplayName" DataType="String" Master="True" Description="显示名。昵称、中文名等" />
      <Column Name="Location" DataType="String" Description="位置" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="Code" DataType="Int32" Description="编码" />
      <Column Name="Type" DataType="String" Description="类型" />
      <Column Name="Version" DataType="Int32" Description="版本" />
      <Column Name="Kind" DataType="Int32" Description="种类。0私有，1公开" />
      <Column Name="PublicExpire" DataType="DateTime" Description="公开有效期" />
      <Column Name="NodeNum" DataType="Int32" Description="节点数" />
      <Column Name="ServerID" DataType="Int32" Description="业务服务器" />
      <Column Name="ServerUri" DataType="String" Description="自定义服务器" />
      <Column Name="ServerPass" DataType="String" Description="服务器密码" />
      <Column Name="RouteIP" DataType="String" Description="路由IP" />
      <Column Name="RouteMac" DataType="String" Description="路由MAC" />
      <Column Name="DeviceUrl" DataType="String" Description="设备Url" />
      <Column Name="Fixed" DataType="Boolean" Description="固定跳转" />
      <Column Name="InternalUri" DataType="String" Description="内网" />
      <Column Name="ExternalUri" DataType="String" Description="外网" />
      <Column Name="Locked" DataType="Boolean" Description="锁定。锁定后重置不改密码和绑定关系" />
      <Column Name="LastSync" DataType="DateTime" Description="最后同步" />
      <Column Name="Online" DataType="Boolean" Description="在线" />
      <Column Name="Logins" DataType="Int32" Description="登录" />
      <Column Name="LastLogin" DataType="DateTime" Description="最后登录" />
      <Column Name="LastLoginIP" DataType="String" Description="最后登录IP" />
      <Column Name="Registers" DataType="Int32" Description="注册次数" />
      <Column Name="RegisterTime" DataType="DateTime" Description="注册时间" />
      <Column Name="RegisterIP" DataType="String" Description="注册IP" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="Name" Unique="True" />
      <Index Columns="HardID" Unique="True" />
      <Index Columns="Type" />
      <Index Columns="Kind" />
      <Index Columns="ServerID" />
    </Indexes>
  </Table>
  <Table Name="UserGateway" Description="用户网关" ConnName="User" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="UserID" DataType="Int32" Description="用户" />
      <Column Name="GatewayID" DataType="Int32" Description="网关" />
      <Column Name="Kind" DataType="Int32" Description="类型。1管理员、2普通用户、3临时用户" />
      <Column Name="VisToken" DataType="String" Description="访问令牌" />
      <Column Name="SubToken" DataType="String" Description="订阅令牌" />
      <Column Name="StartTime" DataType="DateTime" Description="开始时间" />
      <Column Name="EndTime" DataType="DateTime" Description="结束时间" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="UserID,GatewayID" Unique="True" />
      <Index Columns="UserID" />
      <Index Columns="GatewayID" />
    </Indexes>
  </Table>
  <Table Name="Biz" Description="业务服务器" ConnName="Biz" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Name" DataType="String" Master="True" Description="名称。登录用户名" />
      <Column Name="Password" DataType="String" Description="密码" />
      <Column Name="DisplayName" DataType="String" Master="True" Description="显示名。昵称、中文名等" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="Version" DataType="Int32" Description="版本" />
      <Column Name="GatewayCount" DataType="Int32" Description="网关数" />
      <Column Name="UserCount" DataType="Int32" Description="用户数" />
      <Column Name="Address" DataType="String" Description="地址" />
      <Column Name="GatewayPort" DataType="Int32" Description="网关" />
      <Column Name="UserPort" DataType="Int32" Description="用户" />
      <Column Name="YunPort" DataType="Int32" Description="平台" />
      <Column Name="MaxGateway" DataType="Int32" Description="最大网关" />
      <Column Name="Online" DataType="Boolean" Description="在线" />
      <Column Name="RegisterTime" DataType="DateTime" Description="注册时间" />
      <Column Name="Logins" DataType="Int32" Description="登录次数" />
      <Column Name="LastLogin" DataType="DateTime" Description="最后登录" />
      <Column Name="LastLoginIP" DataType="String" Description="最后登录IP" />
      <Column Name="LastInternalIP" DataType="String" Description="内网地址" />
      <Column Name="PublicKey" DataType="String" Length="500" Description="公钥" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="Name" Unique="True" />
    </Indexes>
  </Table>
  <Table Name="UpServer" Description="升级服务器" ConnName="Update" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Name" DataType="String" Master="True" Description="名称。登录用户名" />
      <Column Name="Password" DataType="String" Description="密码" />
      <Column Name="DisplayName" DataType="String" Description="显示名。昵称、中文名等" />
      <Column Name="Version" DataType="Int32" Description="版本" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="Priority" DataType="Int32" Description="优先级" />
      <Column Name="Protocol" DataType="Int32" Description="协议" />
      <Column Name="Address" DataType="String" Description="地址" />
      <Column Name="GatewayPort" DataType="Int32" Description="网关端口" />
      <Column Name="UserPort" DataType="Int32" Description="用户端口" />
      <Column Name="RegisterTime" DataType="DateTime" Description="注册时间" />
      <Column Name="Logins" DataType="Int32" Description="登录" />
      <Column Name="LastLogin" DataType="DateTime" Description="最后登录" />
      <Column Name="LastLoginIP" DataType="String" Description="最后登录IP" />
      <Column Name="LastInternalIP" DataType="String" Description="最后内网地址" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="Name" Unique="True" />
    </Indexes>
  </Table>
  <Table Name="RouteRule" Description="路由规则" ConnName="Biz" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Name" DataType="String" Master="True" Description="名称" />
      <Column Name="Statistics" DataType="Int32" Description="统计次数" />
      <Column Name="BizID" DataType="Int32" Description="服务器ID" />
      <Column Name="Protocol" DataType="Int32" Description="协议" />
      <Column Name="Kind" DataType="Int32" Description="种类" />
      <Column Name="Value" DataType="String" Description="数据" />
      <Column Name="Kind2" DataType="Int32" Description="种类2" />
      <Column Name="Value2" DataType="String" Description="数据2" />
      <Column Name="Kind3" DataType="Int32" Description="种类3" />
      <Column Name="Value3" DataType="String" Description="数据3" />
      <Column Name="Priority" DataType="Int32" Description="优先级" />
      <Column Name="Fixed" DataType="Boolean" Description="固定跳转" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
      <Column Name="Remark" DataType="String" Length="200" Description="备注" />
    </Columns>
  </Table>
  <Table Name="OTARule" Description="OTA升级规则" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Ver" DataType="String" Description="版本" />
      <Column Name="Type" DataType="String" Description="类型" />
      <Column Name="Weight" DataType="Int32" Description="权重" />
      <Column Name="UpTime" DataType="DateTime" Description="升级时间" />
      <Column Name="FirmwareID" DataType="Int32" Description="固件ID" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="Description" DataType="String" Length="200" Description="备注" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="Ver" />
      <Index Columns="Type" />
    </Indexes>
  </Table>
  <Table Name="UpdataRecord" Description="升级记录" ConnName="Update" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="OTARuleID" DataType="Int32" Description="升级规则ID" />
      <Column Name="UpUserID" DataType="Int32" Description="升级对象ID" />
      <Column Name="Staus" DataType="Int32" Description="升级状态,0无状态，1等待升级，2升级中，3升级完成，4升级失败" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="OTARuleID" />
      <Index Columns="UpUserID" />
    </Indexes>
  </Table>
</Tables>